---
date: 2019-08-20
isCJKLanguage: true
title: "Lua/C++ 整合筆記"
tags: [Lua, C++]
draft: true
---

Lua 的語言特色：它很少單獨存在。Lua 通常寄生在大型 C/C++ 軟體系統裡，扮演腳本引擎的角色。

為什麼要在大型 C/C++ 系統裡面再跑一個語言呢? 常見的理由是為了增進開發效率和彈性。大型 C/C++ 系統編譯非常慢，動輒耗費數十分鐘，開發效率很差。如果可以改變程式行為而不用重新編譯，那可以大大增進開發效率。

系統中不常變動的核心用 C++ 實作，時常變動的業務邏輯用 Lua 實作，能取得開發跟執行效率的平衡。

最著名的例子屬魔獸世界的 UI 系統。魔獸世界遊戲本體是用 C++ 寫成的，同時提供了 Lua API，讓玩家寫 Lua 腳本來客製、甚至創造自己的 UI 界面。

Lua 不用編譯，隨寫隨跑。透過 Lua script ，玩家呼叫來驅動遊戲系統。

這讓魔獸世界達成了一個相當了不起的成就：玩家們不需要 C++ 源始碼，也不用重新編譯遊戲程式，就能自己發揮創意，把 UI 系統修改成自己想要的樣子。我記得以前有一個非常有名的插件叫做 "Auctioneer"，大幅強化了遊戲內建的拍賣場介面，如果在魔獸世界裡面要搞大量買賣，這個插件是必不可少的。


## 整合 Lua 腳本引擎

要在合 Lua 相當容易。
